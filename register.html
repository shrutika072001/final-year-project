<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Examify</title>

    <!-- google-fonts -->
    <link href="//fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="//fonts.googleapis.com/css2?family=Poppins:wght@200;300;500;700;900&display=swap" rel="stylesheet">
    <!-- //google-fonts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
</head>

<!-- Template CSS Style link -->
<link rel="stylesheet" href="assets/css/style-liberty.css">

</head>

<body>

    <!--header-->
    <header id="site-header" class="fixed-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg stroke">
                <h1>
                    <a class="navbar-brand" href="index.html">
                        <span class="fa fa-lightbulb"></span> Examify
                    </a>
                </h1>
                <!-- if logo is image enable this   
            <a class="navbar-brand" href="#index.html">
                <img src="image-path" alt="Your logo" title="Your logo" style="height:35px;" />
            </a> -->
                <button class="navbar-toggler  collapsed bg-gradient" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon fa icon-expand fa-bars"></span>
                    <span class="navbar-toggler-icon fa icon-close fa-times"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                    <ul class="navbar-nav ms-lg-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="register.html">Register <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item" id="LoginLogout">

                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="test.html">Start Test</a>
                        </li>
                        <!--/search-right-->
                        <ul class="header-search">
                            <li class="nav-item search-right">
                                <a href="#search" class="btn search-btn btn-light" title="search"><span
                                        class="fas fa-search" aria-hidden="true"></span></a>
                                <!-- search popup -->
                                <div id="search" class="pop-overlay">
                                    <div class="popup">
                                        <h3 class="title-w3l two mb-4 text-left">Search Here</h3>
                                        <form action="#" method="GET" class="search-box d-sm-flex position-relative">
                                            <input type="search" placeholder="Enter Keyword here" name="search"
                                                required="required" autofocus="">
                                            <button type="submit" class="btn btn-style btn-primary"> Search</button>
                                        </form>
                                    </div>
                                    <a class="close" href="#close">Ã—</a>
                                </div>
                                <!-- /search popup -->
                            </li>
                        </ul>
                        <!--//search-right-->
                    </ul>
                </div>
                <!-- search button -->
                <script>
                    if (localStorage.getItem("loginUser") == null) {
                        document.getElementById("LoginLogout").innerHTML = `<a class="nav-link" href="login.html">Login</a>`;
                    } else {
                        document.getElementById("LoginLogout").innerHTML = `<a class="nav-link" href="logout.html">Logout</a>`;

                    }
                </script>
                <!-- //search button -->

                <!-- toggle switch for light and dark theme -->
                <div class="cont-ser-position">
                    <nav class="navigation">
                        <div class="theme-switch-wrapper">
                            <label class="theme-switch" for="checkbox">
                                <input type="checkbox" id="checkbox">
                                <div class="mode-container">
                                    <i class="gg-sun"></i>
                                    <i class="gg-moon"></i>
                                </div>
                            </label>
                        </div>
                    </nav>
                </div>
                <!-- //toggle switch for light and dark theme -->
            </nav>
        </div>
    </header>
    <!--//header-->


    <!-- about banner -->
    <section class="w3l-about-breadcrumb text-center">
        <div class="breadcrumb-bg breadcrumb-bg-about ">
            <div class="container py-lg-5 ">
                <div class="banner-info-grid ">
                    <h2 class="w3l-title-breadcrumb ">Register</h2>
                    <!-- <p class="inner-page-para px-lg-5">Feel free to learn more about our team and company on this page. We are always happy to help you!</p> -->
                </div>
            </div>
        </div>
    </section>
    <!-- //about banner -->



    <!-- contact -->
    <section class="w3l-contacts-12">
        <div class="contact-top pt-5">
            <div class="container py-lg-4">
                <div class="d-grid cont-main-top mt-lg-5 mt-4">
                    <!-- contact form -->
                    <div class="contacts12-main">

                        <form action="#" method="post" class="main-input">
                            <div class="top-inputs d-grid">
                                <input type="text" placeholder="Name" name="Name" id="Name" required="">
                                <input type="email" name="email" placeholder="Email" id="Email" required="">
                            </div>
                            <input type="text" placeholder="Phone Number" name="Phone" id="Phone" required="">
                            <input class="mt-4 " type="text" placeholder="Institute Name" name="Institute"
                                id="Institute" required="">
                            <input class="mt-4 mb-4" type="password" placeholder="Password" name="Password"
                                id="Password" required="">
                            <div class="text-end">
                                <button type="button" name="Register" id="Register"
                                    class="btn btn-primary btn-style">Register</button>
                            </div>
                        </form>
                    </div>
                    <!-- //contact form -->
                    <!-- contact address -->
                    <div class="w3l-about-info  align-center">
                        <h6 class="w3l-title-small mb-1">About Us</h6>
                        <h5 class="w3l-title-main mb-2">Experience the ease and flexibility of taking exams online with
                            our user-friendly platform.</h5>
                    </div>
                    <!-- //contact address -->
                </div>
            </div>

        </div>
    </section>
    <!-- //contact -->


    <!-- footer block -->
    <footer class="w3l-footer-29-main">
        <div class="footer-29 pt-5 pb-4">
            <div class="container pt-md-4">
                <div class="row footer-top-29">
                    <div class="col-lg-4 col-md-6 footer-list-29">
                        <h6 class="footer-title-29">Contact Info </h6>
                        <p class="mb-2 pe-xl-5">Address : Intelligence, 10001, 5th Avenue, #06 lane street, NY - 62617.
                        </p>
                        <p class="mb-2">Phone Number : <a href="tel:+1(21) 234 4567">+1(21) 234 4567</a></p>
                        <p class="mb-2">Email : <a href="mailto:info@example.com">info@example.com</a></p>
                        <p class="mb-2">Support : <a href="mailto:support@example.com">support@example.com</a></p>
                    </div>
                    <div class="col-lg-2 col-md-3 col-6 footer-list-29 mt-md-0 mt-4">
                        <ul>
                            <h6 class="footer-title-29">Quick Links</h6>
                            <li><a href="about.html">About Company</a></li>
                            <li><a href="#blog">Blog Posts</a></li>
                            <li><a href="services.html">Our Services</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                            <li><a href="#shortcodes">Shortcodes</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-3 col-6 ps-lg-5 ps-lg-4 footer-list-29 mt-md-0 mt-4">
                        <ul>
                            <h6 class="footer-title-29">Explore</h6>
                            <li><a href="#blog">Blog Posts</a></li>
                            <li><a href="#privacy">Privacy policy</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                            <li><a href="#license">License & uses</a></li>
                            <li><a href="#blog">View Articles</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-4 col-md-6 footer-list-29 mt-lg-0 mt-4 ps-lg-5">
                        <h6 class="footer-title-29">Subscribe</h6>
                        <form action="#" class="subscribe d-flex" method="post">
                            <input type="email" name="email" placeholder="Email Address" required="">
                            <button class="button-style"><span class="fa fa-paper-plane"
                                    aria-hidden="true"></span></button>
                        </form>
                        <p class="mt-4">Subscribe to our mailing list and get updates to your email inbox.</p>
                    </div>
                </div>

            </div>
        </div>
    </footer>
    <!-- //footer block -->




    <!-- Js scripts -->
    <!-- Firebase Code Start -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.3/firebase-app.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAaia4MGM9pcEqE7zcWgYFKhQShtj41G7w",
            authDomain: "examify-ac5f7.firebaseapp.com",
            databaseURL: "https://examify-ac5f7-default-rtdb.firebaseio.com",
            projectId: "examify-ac5f7",
            storageBucket: "examify-ac5f7.appspot.com",
            messagingSenderId: "1067327657478",
            appId: "1:1067327657478:web:68d2fa2b8af51a20ae1587",
            measurementId: "G-CQXXCYVXJV"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        import { getDatabase, ref, set, child, get } from "https://www.gstatic.com/firebasejs/9.6.3/firebase-database.js";
        const db = getDatabase();

        const name = document.getElementById("Name");
        const email = document.getElementById("Email");
        const phone = document.getElementById("Phone");
        const institute = document.getElementById("Institute");
        const password = document.getElementById("Password");
        const submit = document.getElementById("Register");

        function isEmptyOrSpace(str) {
            return str == null || str.match(/^ *$/) !== null;
        }

        function Validation() {
            let nameregex = /^[a-zA-Z\s]+/;
            let emailregex = /^[a-zA-Z0-9]+@(gmail|yahoo|outlook)\.com/;
            //   let userregex=/^[a-zA-Z0-9]{5,}/;

            if (isEmptyOrSpace(name.value) || isEmptyOrSpace(email.value) || isEmptyOrSpace(phone.value) || isEmptyOrSpace(institute.value) || isEmptyOrSpace(password.value)) {
                alert("Fill the details completely");
                return false;
            }

            if (!nameregex.test(name.value)) {
                alert("name should contain only alphabets");
                return false;
            }
            if (!emailregex.test(email.value)) {
                alert("enter valid email address");
                return false;
            }
            //   if(!userregex.test(username.value)){
            //     alert("username should contain only aplhanumeric values");
            //     return false;
            //   }
            return true;
        }

        function RegisterUser() {
            console.log("register")
            if (!Validation()) {
                return;
            }
            console.log("valid")
            var userData = [];
            if (localStorage.getItem("userData") != null) {
                userData = JSON.parse(localStorage.getItem("userData"));
            }
            const dbref = ref(db);
            get(child(dbref, "Users/" + name.value)).then((snapshot) => {
                if (snapshot.exists()) {
                    alert("User already exists");
                }
                else {
                    set(ref(db, "Users/" + name.value),
                        {
                            name: name.value,
                            email: email.value,
                            phone: phone.value,
                            institute: institute.value,
                            password: encPass()

                        })
                        .then(() => {
                            userData.push({
                                name: name.value, email: email.value, phone: phone.value, institute: institute.value, password: password.value
                            });
                            localStorage.setItem("userData", JSON.stringify(userData));

                            if (localStorage.getItem('testdata') == null) {
                                localStorage.setItem('testdata', JSON.stringify(
                                    []
                                ));
                            }

                            let obj = JSON.parse(localStorage.getItem("testdata"));
                            obj.push(
                                {
                                    "user": name.value,
                                    "test": []
                                }
                            )
                            localStorage.setItem("testdata",JSON.stringify(obj));

                            alert("Registered successfully");
                            location.href = "index.html";
                        })
                        .catch((error) => {
                            alert("error:" + error);
                        })
                }
            });

        }

        function encPass() {
            var pass12 = CryptoJS.AES.encrypt(password.value, password.value);
            return pass12.toString();
        }

        submit.addEventListener('click', RegisterUser);


    </script>

    <!-- <script>
        var userData = [];
        if (localStorage.getItem("userData") != null) {
            userData = JSON.parse(localStorage.getItem("userData"));
        }
        document.getElementById("Register").addEventListener("click", () => {
            console.log("re")
            let name = document.getElementById("Name").value;
            let email = document.getElementById("Email").value;
            let phone = document.getElementById("Phone").value;
            let institute = document.getElementById("Institute").value;
            let password = document.getElementById("Password").value;

            if (name != "" && email != "" && phone != "" && institute != "" && password != "") {
                userData.push({
                    name: name, email: email, phone: phone, institute: institute, password: password
                });
                localStorage.setItem("userData", JSON.stringify(userData));
                alert("Registration Successfull");
                location.href="index.html";

            }else{
                alert("Please enter all details !!");
            }
        });

    </script> -->
    <!-- Firebase Code End -->
    <!-- move top -->
    <button onclick="topFunction()" id="movetop" title="Go to top">
        <span class="fas fa-level-up-alt" aria-hidden="true"></span>
    </button>
    <script>
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("movetop").style.display = "block";
            } else {
                document.getElementById("movetop").style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
    <!-- //move top -->

    <!-- common jquery plugin -->
    <script src="assets/js/jquery-3.3.1.min.js"></script>
    <!-- //common jquery plugin -->

    <!-- theme switch js (light and dark)-->
    <script src="assets/js/theme-change.js"></script>
    <!-- //theme switch js (light and dark)-->

    <!--/stats-number-counter-->
    <script src="assets/js/jquery.waypoints.min.js"></script>
    <script src="assets/js/jquery.countup.js"></script>
    <script>
        $('.counter').countUp();

    </script>
    <!--//stats-number-counter-->

    <!--/owlcarousel-->
    <script src="assets/js/owl.carousel.js"></script>
    <!-- //tesimonials-->
    <script>
        $(document).ready(function () {
            $("#owl-demo1").owlCarousel({
                loop: true,
                nav: false,
                responsiveClass: true,
                responsive: {
                    0: {
                        items: 1,
                        nav: false
                    },
                    736: {
                        items: 1,
                        nav: false
                    }
                }
            })
        })

    </script>
    <!-- //tesimonials-->

    <!-- MENU-JS -->
    <script>
        $(window).on("scroll", function () {
            var scroll = $(window).scrollTop();

            if (scroll >= 80) {
                $("#site-header").addClass("nav-fixed");
            } else {
                $("#site-header").removeClass("nav-fixed");
            }
        });

        //Main navigation Active Class Add Remove
        $(".navbar-toggler").on("click", function () {
            $("header").toggleClass("active");
        });
        $(document).on("ready", function () {
            if ($(window).width() > 991) {
                $("header").removeClass("active");
            }
            $(window).on("resize", function () {
                if ($(window).width() > 991) {
                    $("header").removeClass("active");
                }
            });
        });
    </script>
    <!-- //MENU-JS -->

    <!-- disable body scroll which navbar is in active -->
    <script>
        $(function () {
            $('.navbar-toggler').click(function () {
                $('body').toggleClass('noscroll');
            })
        });
    </script>
    <!-- //disable body scroll which navbar is in active -->

    <!--bootstrap-->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- //bootstrap-->
    <!-- //Js scripts -->

</body>

</html>